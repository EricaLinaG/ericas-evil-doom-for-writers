* doom.d

My =Doom-Emacs= configuration.

[[file:splash/emacs.png]]

** Introduction


** Prerequisites
First, make sure that you have at least Emacs 28.1 installed, and have made sure that Git and the other prerequisites of Doom-Emacs are satisfied:
[[https://github.com/hlissner/doom-emacs#prerequisites][Doom-Emacs - Prerequisites]]

This configuration uses the following packages that have dependencies:
*** Org-Roam

=org-roam= uses a custom SQLite binary to store its database, and it will compile it when it installs. So there must be a C compiler available to Emacs.

On Linux, there are likely to be a C compiler installed, but Windows is different.

One option is to use MSYS2, which is Linux distribution for Windows. Follow the instructions on [[https://www.msys2.org/][MSYS2 home page]]. Be sure to install the full mingw-w64 GCC software collection.

Make sure that you add the =bin= directory of you MSYS2 installation to your system path, so that Emacs can find it.

On my machine, I had to add =C:\msys64\mingw64\bin=
*** Aspell
We use =Aspell= for spellchecking, instead of other options, because I think it works better, and because it, unlike =hunspell=, allows me to make use of the =C-;= key-chord (usually reserved for =flyspell=)
**** Linux

If Aspell is not installed, install =aspell= using your package manager.

**** Windows

Assuming that you installed MSYS2, including the mingw compiler suite, you can simply open up a MSYS2 command line and run:

=pacman -Ss aspell=

That will give you a list of aspell related packages to install.

Here's the packages that I installed:

=pacman -S mingw-w64-x86_64-aspell=

=pacman -S mingw-w64-x86_64-aspell-en=

If you followed the guide for how to install the C compiler, then Emacs will be able to find =aspell=, and all should be well.

*** Proselint
Proselint is required by the on-the-fly language checker.

#+Begin_quote
“Proselint places the world's greatest writers and editors by your side, where they whisper suggestions on how to improve your prose. You’ll be guided by advice inspired by Bryan Garner, David Foster Wallace, Chuck Palahniuk, Steve Pinker, Mary Norris, Mark Twain, Elmore Leonard, George Orwell, Matthew Butterick, William Strunk, Elwyn White, Philip Corbett, Ernest Gowers, and the editorial staff of the world’s finest literary magazines and newspapers, among others. Our goal is to aggregate knowledge about best practices in writing and to make that knowledge immediately accessible to all authors in the form of a linter for prose; all in a neat command-line utility that you can integrate into other tools, scripts, and workflows.”
#+End_quote

Simply follow the [[https://github.com/amperser/proselint#installation][Proselint installation instructions]] and make sure to, if on Windows, to add the location of the Proselint binary to your PATH. The message you get from Python's pip installation procedure reminds you of what exact path you need to add.

*** Hugo
I use [[https://ox-hugo.scripter.co/][Ox-Hugo]] to export and generate an Epub, and to write blog posts, and if you want that, you need to install [[https://gohugo.io/][Hugo]].
*** PDF diff and export
Even if you do not plan to make use of Latex, or Latexdiff, I found that installing the =latexdiff= package fixed my issues with exporting to PDF, so you might want to do that too. And maybe also the =texlive-bibtex-extra= and =texlive-latex-extra= packages.

On Windows you are most probably out of luck. I haven’t found a way to install all required LaTeX packages, so don’t export to PDF :) Or export to ODT (LibreOffice) and export from there.

*** Fonts
This configuration uses the [[https://github.com/RedHatOfficial/Overpass][Overpass]] fonts. Install both ~Overpass~ and ~Overpass Mono~ on your system so that Emacs can use them.

For Unicode emojis, install an emoji font like [[http://legionfonts.com/fonts/segoe-ui-emoji][Segoe UI Emoji]]

If you want to use your own fonts, do change the configuration, around line 90 in ~config.el~.
** Installation
*** Hotel California
Clone the Hotel California repository into =~/.doom.d=, like this:

=git clone https://github.com/jacmoe/.doom.d ~/.doom.d=

*** Doom-Emacs
Make sure that there isn’t a ~.emacs.d~ directory on your machine. If you are running Emacs, there is, so you need to either delete or rename it.

To install Doom-Emacs, clone it into ~.emacs.d~ , and run the Doom-Emacs installation script:

#+BEGIN_SRC
git clone --depth 1 https://github.com/hlissner/doom-emacs ~/.emacs.d

~/.emacs.d/bin/doom install
#+END_SRC
Don’t try to run Emacs just yet!

What you can do, however, is check the installation by running the Doom-Emacs doctor, like so:

=~./.emacs.d/bin doom doctor=

It should run without errors or warnings, but if it doesn’t, you should be able to fix the issues in most cases based on what the doctor orders.

You need to change some variables around line 20 in =config.el=, the location of personal dictionary, bookmarks and Org folders. Also be sure to change the personal information around line 40.

=~/.emacs.d/bin/doom sync=

Probably a good idea to add =~./emacs.d/bin= to your =PATH=, for example by adding it to your exports in =.bashrc=.

Happy Writing!

#  LocalWords:  MSYS mingw aspell Proselint Palahniuk Elmore Butterick Strunk
#  LocalWords:  Elwyn Corbett Gowers Latexdiff UI ODT
